(window["webpackJsonp1612199-caro"]=window["webpackJsonp1612199-caro"]||[]).push([[0],{211:function(e,t,n){e.exports=n(374)},220:function(e,t,n){},221:function(e,t,n){},374:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(24),i=n(84),l=n(45),c=(n(220),n(221),n(222),n(49)),s=n(121),u=n(383),p=n(384),f=n(380),m=n(117),y=n.n(m),h=function(e){var t=e.row,n=e.col,r=e.val,a=e.onClick,i="";null!==r&&(i=1===r?" X":" O");var l=" not-clickable";return e.winner||null!==r||(l=""),o.a.createElement("button",{id:"cell-".concat(t,"-").concat(n),type:"button",className:"board-cell player".concat(i+l),onClick:function(){return a(t,n)}},i)};h.defaultProps={val:null};var d=h,v=function(e){var t=e.pointStart,n=e.pointEnd,r=e.cellWidth,a=1===e.player?"X":"O",i={},l={};return i.x||t.y!==n.y||(i.x=t.x,l.x=n.x+r,i.y=t.y+r/2,l.y=n.y+r/2),i.x||t.x!==n.x||(i.y=t.y,l.y=n.y+r,i.x=t.x+r/2,l.x=n.x+r/2),i.x||n.x-t.x!==n.y-t.y||(i=t,l.x=n.x+r,l.y=n.y+r),i.x||n.x-t.x!==-(n.y-t.y)||(i.x=t.x+r,i.y=t.y,l.x=n.x,l.y=n.y+r),o.a.createElement("path",{className:"line ".concat(a),d:"M".concat(i.x," ").concat(i.y," L").concat(l.x," ").concat(l.y)})},w=function(e){var t=e.board,n=e.onClick,r=e.winner,a=e.listPoints;return o.a.createElement("div",{id:"board"},t.map((function(e,t){return o.a.createElement("div",{key:t,className:"board-row"},e.map((function(e,a){return o.a.createElement(d,{key:y()(),row:t,col:a,val:e,onClick:n,winner:r})})))})),o.a.createElement("svg",{className:"draw-lines"},null!==r&&a.map((function(e){var n=e[0],r=e[1],a=document.querySelector("#cell-".concat(n.row,"-").concat(n.col)),i=document.querySelector("#cell-".concat(r.row,"-").concat(r.col));return o.a.createElement(v,{key:y()(),pointStart:{x:a.offsetLeft,y:a.offsetTop},pointEnd:{x:i.offsetLeft,y:i.offsetTop},cellWidth:i.offsetWidth,player:t[n.row][n.col]})}))))};w.defaultProps={size:20,numToWin:5};var b=w,E=n(382),x=function(e){var t=e.history,n=e.jumpTo,r=e.toggleSort,a=e.selected,i=e.sort,l=i?"angle down":"angle up";return o.a.createElement(u.a,{className:"history-block"},o.a.createElement(u.a.Content,null,o.a.createElement("div",{className:"box-title"},o.a.createElement("h6",{className:"history-title"},"History"),o.a.createElement(p.a,{size:"mini",icon:l,onClick:r,label:"Order by"})),o.a.createElement(u.a.Description,{className:"history-items"},o.a.createElement(E.a,null,function(){if(!t)return o.a.createElement(o.a.Fragment,null);var e=Object(c.a)(t);return(e=e.sort((function(e,t){return e.id<=t.id===i?-1:1}))).map((function(e){var t=e.lastPosition,r=e.id,i=r?"Move to #".concat(r,". Position [").concat(t.x,",").concat(t.y,"]"):"Go to game start",l=r===a;return o.a.createElement(E.a.Item,{key:r},o.a.createElement(p.a,{primary:l,size:"small",fluid:!0,onClick:function(){return n(r)}},i))}))}()))))},g=function(e){var t=e.xIsNext,n=e.winner,a=e.history,i=e.setStep,l=e.setTurn,m=e.addHistoryItem,y=e.setWinner,h=e.emptyHistory,d=e.size,v=void 0===d?20:d,w=e.numToWin,E=void 0===w?5:w,g=Object(r.useState)(!1),O=Object(s.a)(g,2),W=O[0],k=O[1],j=Object(r.useState)(!0),P=Object(s.a)(j,2),N=P[0],S=P[1],T=Object(c.a)(a.list[a.step].board),I=Object(c.a)(a.list[a.step].listPoints),C=function(e,t,n){var r=function(e,t,n){var r=[],o=!1,a=!1,i=e[t][n],l=1;r.push({row:t,col:n});for(var c=n-1;c>=0;c-=1){if(e[t][c]!==i){null!==e[t][c]&&(o=!0);break}l+=1,r.push({row:t,col:c})}for(var s=n+1;s<v;s+=1){if(e[t][s]!==i){null!==e[t][s]&&(a=!0);break}l+=1,r.push({row:t,col:s})}return l>=E?((r=r.sort((function(e,t){return(e.row+1)*v+e.col<=(t.row+1)*v+t.col?-1:1}))).splice(1,r.length-2),l>E?{hasWinner:!0,points:r}:{hasWinner:!(o&&a),points:o&&a?[]:r}):{hasWinner:!1,points:[]}}(e,t,n),o=function(e,t,n){var r=[],o=!1,a=!1,i=e[t][n],l=1;r.push({row:t,col:n});for(var c=t-1;c>=0;c-=1){if(e[c][n]!==i){null!==e[c][n]&&(o=!0);break}l+=1,r.push({row:c,col:n})}for(var s=t+1;s<v;s+=1){if(e[s][n]!==i){null!==e[s][n]&&(a=!0);break}l+=1,r.push({row:s,col:n})}return l>=E?((r=r.sort((function(e,t){return(e.row+1)*v+e.col<=(t.row+1)*v+t.col?-1:1}))).splice(1,r.length-2),l>E?{hasWinner:!0,points:r}:{hasWinner:!(o&&a),points:o&&a?[]:r}):{hasWinner:!1,points:[]}}(e,t,n),a=function(e,t,n){var r=[],o=!1,a=!1,i=e[t][n],l=1;r.push({row:t,col:n});for(var c=t-1,s=n-1;c>=0&&s>=0;c-=1,s-=1){if(e[c][s]!==i){null!==e[c][s]&&(o=!0);break}l+=1,r.push({row:c,col:s})}for(var u=t+1,p=n+1;u<v&&p<v;u+=1,p+=1){if(e[u][p]!==i){null!==e[u][p]&&(a=!0);break}l+=1,r.push({row:u,col:p})}return l>=E?((r=r.sort((function(e,t){return(e.row+1)*v+e.col<=(t.row+1)*v+t.col?-1:1}))).splice(1,r.length-2),l>E?{hasWinner:!0,points:r}:{hasWinner:!(o&&a),points:o&&a?[]:r}):{hasWinner:!1,points:[]}}(e,t,n),i=function(e,t,n){var r=[],o=!1,a=!1,i=e[t][n],l=1;r.push({row:t,col:n});for(var c=t-1,s=n+1;c>=0&&s<v;c-=1,s+=1){if(e[c][s]!==i){null!==e[c][s]&&(o=!0);break}l+=1,r.push({row:c,col:s})}for(var u=t+1,p=n-1;u<v&&p>=0;u+=1,p-=1){if(e[u][p]!==i){null!==e[u][p]&&(a=!0);break}l+=1,r.push({row:u,col:p})}return l>=E?((r=r.sort((function(e,t){return(e.row+1)*v+e.col<=(t.row+1)*v+t.col?-1:1}))).splice(1,r.length-2),l>E?{hasWinner:!0,points:r}:{hasWinner:!(o&&a),points:o&&a?[]:r}):{hasWinner:!1,points:[]}}(e,t,n),l=[];return 2===r.points.length&&l.push(r.points),2===o.points.length&&l.push(o.points),2===a.points.length&&l.push(a.points),2===i.points.length&&l.push(i.points),{hasWinner:r.hasWinner||o.hasWinner||a.hasWinner||i.hasWinner,listPoints:l}};return o.a.createElement("div",{className:"game-wrapper"},o.a.createElement(u.a,{className:"game-info"},o.a.createElement(u.a.Content,null,o.a.createElement(u.a.Header,{as:"h1"},"Caro Vietnam - v3"),o.a.createElement(u.a.Description,null,o.a.createElement("p",null,function(){var e="",r="";return null!==n?(e=1===n?"X":"O",r="Winner"):(r="Player",e=T.every((function(e){return e.every((function(e){return e}))}))?"DRAW":t?"X":"O"),o.a.createElement(o.a.Fragment,null,r,": \xa0",o.a.createElement("span",{className:"player".concat(" ".concat(e))},e))}()),o.a.createElement(p.a,{size:"small",onClick:function(){return k(!0)}},"Reset game")))),o.a.createElement(b,{listPoints:I,board:T,xIsNext:t,onClick:function(e,r){var o=a.list,s=a.step,u=o.slice(0,s+1),p=u[u.length-1].board.map((function(e){return Object(c.a)(e)})),f=t?1:0;if(null===n&&null===p[e][r]){p[e][r]=f;var h=C(p,e,r);m({board:p,lastPosition:{x:e,y:r},winner:h.hasWinner?f:null,id:s+1,listPoints:h.listPoints}),l(!t),i(u.length),y(h.hasWinner?f:null)}},winner:n}),o.a.createElement(x,{history:a.list,sort:N,toggleSort:function(){return S(!N)},jumpTo:function(e){var t=a.list;i(e),l(e%2===0),y(t[e].winner)},selected:a.step}),o.a.createElement(f.a,{open:W,size:"mini",header:"Reset game",content:"Do you want to reset this game?",onCancel:function(){return k(!1)},onConfirm:function(){h(),l(!0),y(null),k(!1)}}))},O="SET_NEXT_TURN",W="SET_WINNER",k="ADD_HISTORY_ITEM",j="SET_STEP",P="EMPTY_HISTORY";var N=Object(i.b)((function(e){return{board:e.board,xIsNext:e.xIsNext,winner:e.winner,history:e.history}}),(function(e){return{setStep:function(t){return e(function(e){return{type:j,step:e}}(t))},setTurn:function(t){return e(function(e){return{type:O,turn:e}}(t))},addHistoryItem:function(t){return e(function(e){return{type:k,historyItem:e}}(t))},setWinner:function(t){return e(function(e){return{type:W,winner:e}}(t))},emptyHistory:function(){return e({type:P})}}}))(g);var S=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(N,null))};var T=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.turn;default:return e}};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return t.winner;default:return e}},C=n(22);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R={list:[{board:new Array(20).fill(null).map((function(){return new Array(20).fill(null)})),lastPosition:null,id:0,winner:null,listPoints:[]}],step:0};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return H({},e,{list:e.list.slice(0,e.step+1).concat([t.historyItem])});case P:return R;case j:return H({},e,{step:t.step});default:return e}},z=Object(l.b)({xIsNext:T,winner:I,history:_}),A=Object(l.c)(z);Object(a.render)(o.a.createElement(i.a,{store:A},o.a.createElement(S,null)),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.3c57d598.chunk.js.map