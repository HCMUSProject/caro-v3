(window["webpackJsonp1612199-caro"]=window["webpackJsonp1612199-caro"]||[]).push([[0],{211:function(e,n,t){e.exports=t(374)},220:function(e,n,t){},221:function(e,n,t){},374:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(24),i=t(84),l=t(45),c=(t(220),t(221),t(222),t(49)),s=t(121),u=t(383),p=t(384),f=t(380),m=t(117),y=t.n(m),h=function(e){var n=e.row,t=e.col,r=e.val,a=e.onClick,i="";null!==r&&(i=1===r?" X":" O");var l=" not-clickable";return e.winner||null!==r||(l=""),o.a.createElement("button",{id:"cell-".concat(n,"-").concat(t),type:"button",className:"board-cell player".concat(i+l),onClick:function(){return a(n,t)}},i)};h.defaultProps={val:null};var d=h,w=function(e){var n=e.pointStart,t=e.pointEnd,r=e.cellWidth,a=1===e.player?"X":"O",i={},l={};return i.x||n.y!==t.y||(i.x=n.x,l.x=t.x+r,i.y=n.y+r/2,l.y=t.y+r/2),i.x||n.x!==t.x||(i.y=n.y,l.y=t.y+r,i.x=n.x+r/2,l.x=t.x+r/2),i.x||t.x-n.x!==t.y-n.y||(i=n,l.x=t.x+r,l.y=t.y+r),i.x||t.x-n.x!==-(t.y-n.y)||(i.x=n.x+r,i.y=n.y,l.x=t.x,l.y=t.y+r),o.a.createElement("path",{className:"line ".concat(a),d:"M".concat(i.x," ").concat(i.y," L").concat(l.x," ").concat(l.y)})},v=function(e){var n=e.board,t=e.onClick,r=e.winner,a=e.listPoints;return o.a.createElement("div",{id:"board"},n.map((function(e,n){return o.a.createElement("div",{key:n,className:"board-row"},e.map((function(e,a){return o.a.createElement(d,{key:y()(),row:n,col:a,val:e,onClick:t,winner:r})})))})),o.a.createElement("svg",{className:"draw-lines"},null!==r&&a.map((function(e){var t=e[0],r=e[1],a=document.querySelector("#cell-".concat(t.row,"-").concat(t.col)),i=document.querySelector("#cell-".concat(r.row,"-").concat(r.col));return o.a.createElement(w,{key:y()(),pointStart:{x:a.offsetLeft,y:a.offsetTop},pointEnd:{x:i.offsetLeft,y:i.offsetTop},cellWidth:i.offsetWidth,player:n[t.row][t.col]})}))))};v.defaultProps={size:20,numToWin:5};var b=v,E=t(382),x=function(e){var n=e.history,t=e.jumpTo,r=e.toggleSort,a=e.selected,i=e.sort,l=i?"angle down":"angle up";return o.a.createElement(u.a,{className:"history-block"},o.a.createElement(u.a.Content,null,o.a.createElement("div",{className:"box-title"},o.a.createElement("h6",{className:"history-title"},"History"),o.a.createElement(p.a,{size:"mini",icon:l,onClick:r,label:"Order by"})),o.a.createElement(u.a.Description,{className:"history-items"},o.a.createElement(E.a,null,function(){if(!n)return o.a.createElement(o.a.Fragment,null);var e=Object(c.a)(n);return(e=e.sort((function(e,n){return e.id<=n.id===i?-1:1}))).map((function(e){var n=e.lastPosition,r=e.id,i=r?"Move to #".concat(r,". Position [").concat(n.x,",").concat(n.y,"]"):"Go to game start",l=r===a;return o.a.createElement(E.a.Item,{key:r},o.a.createElement(p.a,{primary:l,size:"small",fluid:!0,onClick:function(){return t(r)}},i))}))}()))))},O=function(e){var n=e.xIsNext,t=e.winner,a=e.history,i=e.setStep,l=e.setTurn,m=e.addHistoryItem,y=e.setWinner,h=e.emptyHistory,d=e.size,w=void 0===d?20:d,v=e.numToWin,E=void 0===v?5:v,O=Object(r.useState)(!1),g=Object(s.a)(O,2),W=g[0],k=g[1],N=Object(r.useState)(!0),j=Object(s.a)(N,2),P=j[0],S=j[1],T=Object(c.a)(a.list[a.step].board),_=Object(c.a)(a.list[a.step].listPoints),I=function(e,n,t){var r=function(e,n,t){var r=[],o=!1,a=!1,i=e[n][t],l=1;r.push({row:n,col:t});for(var c=t-1;c>=0;c-=1){if(e[n][c]!==i){null!==e[n][c]&&(o=!0);break}l+=1,r.push({row:n,col:c})}for(var s=t+1;s<w;s+=1){if(e[n][s]!==i){null!==e[n][s]&&(a=!0);break}l+=1,r.push({row:n,col:s})}return l>=E?((r=r.sort((function(e,n){return(e.row+1)*w+e.col<=(n.row+1)*w+n.col?-1:1}))).splice(1,r.length-2),l>E?{hasWinner:!0,points:r}:{hasWinner:!(o&&a),points:o&&a?[]:r}):{hasWinner:!1,points:[]}}(e,n,t),o=function(e,n,t){var r=[],o=!1,a=!1,i=e[n][t],l=1;r.push({row:n,col:t});for(var c=n-1;c>=0;c-=1){if(e[c][t]!==i){null!==e[c][t]&&(o=!0);break}l+=1,r.push({row:c,col:t})}for(var s=n+1;s<w;s+=1){if(e[s][t]!==i){null!==e[s][t]&&(a=!0);break}l+=1,r.push({row:s,col:t})}return l>=E?((r=r.sort((function(e,n){return(e.row+1)*w+e.col<=(n.row+1)*w+n.col?-1:1}))).splice(1,r.length-2),l>E?{hasWinner:!0,points:r}:{hasWinner:!(o&&a),points:o&&a?[]:r}):{hasWinner:!1,points:[]}}(e,n,t),a=function(e,n,t){var r=[],o=!1,a=!1,i=e[n][t],l=1;r.push({row:n,col:t});for(var c=n-1,s=t-1;c>=0&&s>=0;c-=1,s-=1){if(e[c][s]!==i){null!==e[c][s]&&(o=!0);break}l+=1,r.push({row:c,col:s})}for(var u=n+1,p=t+1;u<w&&p<w;u+=1,p+=1){if(e[u][p]!==i){null!==e[u][p]&&(a=!0);break}l+=1,r.push({row:u,col:p})}return l>=E?((r=r.sort((function(e,n){return(e.row+1)*w+e.col<=(n.row+1)*w+n.col?-1:1}))).splice(1,r.length-2),l>E?{hasWinner:!0,points:r}:{hasWinner:!(o&&a),points:o&&a?[]:r}):{hasWinner:!1,points:[]}}(e,n,t),i=function(e,n,t){var r=[],o=!1,a=!1,i=e[n][t],l=1;r.push({row:n,col:t});for(var c=n-1,s=t+1;c>=0&&s<w;c-=1,s+=1){if(e[c][s]!==i){null!==e[c][s]&&(o=!0);break}l+=1,r.push({row:c,col:s})}for(var u=n+1,p=t-1;u<w&&p>=0;u+=1,p-=1){if(e[u][p]!==i){null!==e[u][p]&&(a=!0);break}l+=1,r.push({row:u,col:p})}return l>=E?((r=r.sort((function(e,n){return(e.row+1)*w+e.col<=(n.row+1)*w+n.col?-1:1}))).splice(1,r.length-2),l>E?{hasWinner:!0,points:r}:{hasWinner:!(o&&a),points:o&&a?[]:r}):{hasWinner:!1,points:[]}}(e,n,t),l=[];return 2===r.points.length&&l.push(r.points),2===o.points.length&&l.push(o.points),2===a.points.length&&l.push(a.points),2===i.points.length&&l.push(i.points),{hasWinner:r.hasWinner||o.hasWinner||a.hasWinner||i.hasWinner,listPoints:l}};return o.a.createElement("div",{className:"game-wrapper"},o.a.createElement(u.a,{className:"game-info"},o.a.createElement(u.a.Content,null,o.a.createElement(u.a.Header,{as:"h1"},"Caro Vietnam - v3"),o.a.createElement(u.a.Description,null,o.a.createElement("p",null,function(){var e="",r="";return null!==t?(e=1===t?"X":"O",r="Winner"):(r="Player",e=T.every((function(e){return e.every((function(e){return e}))}))?"DRAW":n?"X":"O"),o.a.createElement(o.a.Fragment,null,r,": \xa0",o.a.createElement("span",{className:"player".concat(" ".concat(e))},e))}()),o.a.createElement(p.a,{size:"small",onClick:function(){return k(!0)}},"Reset game")))),o.a.createElement(b,{listPoints:_,board:T,xIsNext:n,onClick:function(e,r){var o=a.list,s=a.step,u=o.slice(0,s+1),p=u[u.length-1].board.map((function(e){return Object(c.a)(e)})),f=n?1:0;if(null===t&&null===p[e][r]){p[e][r]=f;var h=I(p,e,r);m({board:p,lastPosition:{x:e,y:r},winner:h.hasWinner?f:null,id:s+1,listPoints:h.listPoints}),l(!n),i(u.length),y(h.hasWinner?f:null)}},winner:t}),o.a.createElement(x,{history:a.list,sort:P,toggleSort:function(){return S(!P)},jumpTo:function(e){var n=a.list;i(e),l(e%2===0),y(n[e].winner)},selected:a.step}),o.a.createElement(f.a,{open:W,size:"mini",header:"Reset game",content:"Do you want to reset this game?",onCancel:function(){return k(!1)},onConfirm:function(){h(),l(!0),y(null),k(!1)}}))},g="SET_NEXT_TURN",W="SET_WINNER",k="ADD_HISTORY_ITEM",N="SET_STEP",j="EMPTY_HISTORY";var P=Object(i.b)((function(e){return{board:e.board,xIsNext:e.xIsNext,winner:e.winner,history:e.history}}),(function(e){return{setStep:function(n){return e(function(e){return{type:N,step:e}}(n))},setTurn:function(n){return e(function(e){return{type:g,turn:e}}(n))},addHistoryItem:function(n){return e(function(e){return{type:k,historyItem:e}}(n))},setWinner:function(n){return e(function(e){return{type:W,winner:e}}(n))},emptyHistory:function(){return e({type:j})}}}))(O);var S=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(P,null))};var T=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case g:return n.turn;default:return e}};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case W:return n.winner;default:return e}},I=t(22);function D(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?D(t,!0).forEach((function(n){Object(I.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var R={list:[{board:new Array(20).fill(null).map((function(){return new Array(20).fill(null)})),lastPosition:null,id:0,winner:null,listPoints:[]}],step:0};var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case k:return C({},e,{list:e.list.slice(0,e.step+1).concat([n.historyItem])});case j:return R;case N:return C({},e,{step:n.step});default:return e}},H=Object(l.b)({xIsNext:T,winner:_,history:X}),z=Object(l.c)(H,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(a.render)(o.a.createElement(i.a,{store:z},o.a.createElement(S,null)),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.1787178c.chunk.js.map